<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>cookie 지원 - xrath.com 에서 번역됨</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../css/styles1.css" rel="stylesheet" type="text/css">
<style type="text/css">
<!--
.style1 {color: #FF0000}
-->
</style>
</head>

<body>

<table summary="layout" width="100%" border="0">
<tr>
<td width="1%">
<img src="../../../../images/javalogo52x88.gif" width="52" height="88">
</td>

<td>
<h1 align="center">cookie 지원</h1>

</td>

<td width="52">
</td>
</tr>
</table>

<hr>
<p>cookie 지원에는 다음의 내용이 포함됩니다. </p>
<table cellpadding="5" cellspacing="0" bgcolor="#FFFFCC">
  <tr>
    <td width="472"><ul>
<li><a href="#introduction">처음에</a> </li>
<li><a href="#cookie_support">Java Plug-in 와 Java Web Start 에서의 cookie 지원</a> </li>
<li><a href="#programmatic_access">프로그램에 의한 cookie 에의 액세스</a>  </li>
<li><a href="#more">상세 정보</a>  </li>
    </ul></td>
  </tr>
</table>
<h2><a name="introduction"></a>  	처음에 </h2>
<p>cookie 는, 클라이언트 측에 데이터를 포함하는 1 개의 방법입니다. cookie 는, 개인에게 특화한 포털 사이트 작성, 사용자 설정의 추적, 및 Web 사이트로의 로그인으로 광범위하게 사용됩니다. Web 사이트에서 cookie 를 사용하고 있는 기업 고객의 경우, Java Plug-in 및 Java Web Start 로 cookie 가 지원되고 있으면(자), 클라이언트측의 Java 의 배치가 용이하게 됩니다.  </p>
<p>cookie 지원를 이용하면(자), Web 서버로부터의 cookie 를, Java 어플리케이션으로부터 해당 Web 서버에 돌려줄 수가 있습니다. 이것에 의해, 클라이언트 상태에 관한 정보를 서버에 제공할 수 있습니다.  </p>
<h2><a name="cookie_support"></a> Java Plug-in 와 Java Web Start 에서의 cookie 지원 </h2>
<p>cookie 에는, 주로<a href="#session">세션 cookie</a>  및<a href="#permanent">지속 cookie</a>  의 2 종류가 있습니다.  </p>
<h3><a name="session"></a> 세션 cookie </h3>
<p>세션 cookie 는 애플릿 또는 어플리케이션의 세션의 사이에 메모리에 포함됩니다. 세션 cookie 는 애플릿 또는 어플리케이션이 종료했을 때에 기한 마감이 되어, 자동적으로 삭제됩니다. 일반적으로, 이러한 cookie 는, 사용자 개인을 특정하지 않는 세션 ID 를 포함하는 것으로써, 사용자가 페이지로부터 페이지로 이동할 때, 반복 로그인할 필요가 없어집니다. 세션 cookie 는, 예를 들어 소비자가 쇼핑이나 에 추가한 상품을 추적하기 위해서, 상용 Web 사이트에 있어 넓게 사용되고 있습니다.  </p>
<h3><a name="permanent"></a> 지속 cookie </h3>
<p>지속 cookie 는 지속적인 기억 영역에 보관되어 어플리케이션이 종료해도 삭제되지 않습니다. 지속 cookie 는 기한 마감이 되었을 경우에 삭제됩니다. 지속 cookie 는 특정의 Web 사이트에 대한 사용자 설정을 유지하는 것으로, 장래의 세션으로 그러한 설정을 사용할 수가 있습니다. 지속 cookie 는, 개별의 사용자를 식별하기 위해서 사용되므로, Web 사이트에 있어 사용자가, 어떻게 넷 서핑을 하고 있는지를 분석하기 위해서(때문에) 사용됩니다. 이러한 cookie 는 방문자의 인원수, 특정의 페이지를 열람하기 위해서 소비된 시간의 평균, Web 사이트의 전반적인 퍼포먼스등의 정보를 제공하기 위해서도 사용됩니다. 이러한 cookie 는 일반적으로, 장기간, 경우에 따라서는 몇 년간, 사용자를 추적하도록(듯이) 설정됩니다.  </p>
<h3>테크니컬 지원</h3>
<p>Java Plug-in 및 Java Web Start 는 양쪽 모두의 종류의 cookie 를 모든 플랫폼상에서 취급할 수 있도록(듯이) 지원합니다.  </p>
<p>Java Plug-in 는, 브라우저 자체의 cookie 스토어를 사용해 지속적인 cookie 지원를 제공합니다. Internet Explorer 로 실행하면(자), IE 의 cookie 스토어가 사용되어 Mozilla 로 실행하면(자), Mozilla 의 cookie 스토어가 사용됩니다. 각각의 브라우저가 다른 cookie 의 정책를 가지기 위해서(때문에), cookie 를 취급할 때의 동작은 브라우저의 cookie 제어에 의존합니다. 예를 들어, 브라우저가 서드 파티의 cookie 를 거부하도록(듯이) 설정되어 있는 경우, 이 브라우저로 Java Plug-in 를 실행할 경우에는, 그 정책가 적용됩니다. </p>
<p>Java Web Start 는, Internet Explorer 의 cookie 스토어를 사용하는 것으로써, Windows 상에서 지속 cookie 의 지원를 제공해, cookie 를 취급할 때의 동작은 IE 의 cookie 제어에 의해 결정됩니다. Linux/Solaris 상에서는, Java Web Start 는 독자적인 cookie 스토어 구현을 사용하는 것으로써, 지속 cookie 의 지원를 제공합니다.  </p>
<h2><a name="programmatic_access"></a> 프로그램에 의한 cookie 에의 액세스 </h2>
<p>어플리케이션이 디폴트의 cookie 의 처리를 오버라이드(override)하기 위한 방법은 여러종류 있습니다. 다음에 그 중의 4 개를 나타냅니다.  </p>
<h3><code><span class="bg_light_blue">void URLConnection.setRequestProperty(String key, String value)</span></code></h3>
<p>이 방법에 의해, 어플리케이션은 <code>URLConnection</code> 에 독자적인 cookie 헤더를 설정하고 나서 접속을 확립할 수가 있습니다.  </p>
<blockquote>
<p><code>URL url = new URL( "http://java.sun.com/" );<br> URLConnection conn = url.openConnection(); <br> conn.setRequestProperty("Cookie", "foo=bar"); <br> InputStream is = conn.getInputStream(); <br> .....</code> </p>
</blockquote>
<p>접속이 확립되었을 때에, 독자적인 cookie 는 HTTP/HTTPS 요구 헤더내에서, 서버에 송신됩니다. </p>
<h3><code><span class="bg_light_blue">Map&lt;String, List&lt;String&gt;&gt; URLConnection.getHeaderFields()</span></code></h3>
<p>접속이 확립된 후에, 서버는 HTTP/HTTPS 응답 헤더내에서 cookie 를 돌려줍니다. 다음에 설명하는 방법에 의해, 어플리케이션은 <code>URLConnection</code> 를 개입시켜 cookie 의 값을 가져옵니다. </p>
<blockquote>
<p><code>URL url = new URL( "http://java.sun.com/" ); <br> URLConnection conn = url.openConnection(); <br> conn.connect(); <br> .....<br> Map&lt;String, List&lt;String&gt;&gt; headers = conn.getHeaderFields(); <br> List&lt;String&gt; values = headers.get("Set-Cookie"); <br> <br> String cookieValue = null; <br> for (Iterator iter = values.iterator(); iter.hasNext(); ) {<br> &nbsp;&nbsp;&nbsp;&nbsp; String v = values.next();     <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (cookieValue == null)<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cookieValue = v;<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cookieValue = cookieValue + ";" + v;<br> } </code></p>
</blockquote>
<p>접속이 확립된 후에, 서버는 HTTP/HTTPS 응답 헤더내에서 cookie 를 돌려줍니다. </p>
<h3><code><span class="bg_light_blue">Map&lt;String, List&lt;String&gt;&gt; CookieHandler.get(URI uri, Map&lt;String, List&lt;String&gt;&gt; requestHeaders)</span></code></h3>
<p>이 방법에 의해 어플리케이션은, 주어진 URL 에 대한, 세션 cookie 또는 지속 cookie 를 취득할 수 있습니다.  </p>
<blockquote>
<p><code>String retrieveCookie(URL url) <br> { <br> &nbsp;&nbsp;&nbsp;&nbsp; String cookieValue = null;<br> <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CookieHandler handler = CookieHandler.getDefault();<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (handler ! = null) &nbsp;&nbsp;&nbsp; {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String, List&lt;String&gt;&gt; headers = handler.get(url.toURI(), new Map&lt;String, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;String&gt;&gt;());<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;String&gt; values = headers.get("Cookie");<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (Iterator&lt;String&gt; iter=values.iterator(); iter.hasNext();) {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String v = iter.next(); <br> <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (cookieValue == null) <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cookieValue = v; <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cookieValue = cookieValue + ";" + v; <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return cookieValue; <br> } </code></p>
</blockquote>
<p><code>CookieHandler</code> 는, 브라우저 또는 시스템의 cookie 포함을 추상화 한 것으로, 실행하기 위해서는 추가의 시큐리티 액세스권이 필요합니다.  상기의 코드는 어플리케이션이 신뢰되고 있는 경우에만 정상적으로 실행할 수 있습니다.  </p>
<h3><code><span class="bg_light_blue">void CookieHandler.put(URI uri, Map&lt;String, List&lt;String&gt;&gt; responseHeaders)</span></code> </h3>
<p>이 방법에 의해 어플리케이션은, 주어진 URL 에 대한 세션 cookie 또는 지속 cookie 를 설정할 수 있습니다. </p>
<blockquote>
<p><code>void setCookie(URL url, String value) <br> { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CookieHandler handler = CookieHandler.getDefault(); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (handler ! = null) &nbsp;&nbsp;&nbsp; { <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String, List&lt;String&gt;&gt; headers= new Map&lt;String, List&lt;String&gt;&gt;(); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;String&gt; values = new List&lt;String&gt;(); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values.add(value); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;headers.put("Cookie", values); <br> <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handler.put(url.toURI(), headers); <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br> } </code></p>
</blockquote>
<p><code>CookieHandler</code> 는, 브라우저 또는 시스템의 cookie 포함을 추상화 한 것으로, 실행하기 위해서는 추가의 시큐리티 액세스권이 필요합니다.  상기의 코드는 어플리케이션이 신뢰되고 있는 경우에만 정상적으로 실행할 수 있습니다. </p>
<h2><a name="more"></a> 상세 정보 </h2>
<ul>
<li>지속적인 클라이언트 상태 - HTTP Cookie:<a href="http://wp.netscape.com/newsref/std/cookie_spec.html">http://wp.netscape.com/newsref/std/cookie_spec.html </a> </li>
<li>비공식 cookie FAQ:<a href="http://www.cookiecentral.com/faq/">http://www.cookiecentral.com/faq/ </a> <br> <br>
    </li>
</ul>
<hr>
</body>
</html>

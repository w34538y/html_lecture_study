<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="GENERATOR" content="Quadralay WebWorks Publisher Professional Edition 7.0.2.1128" />
<meta name="TEMPLATEBASE" content="book-no-index" />
<meta name="LASTUPDATED" content="Tue Oct 15 03:13:09 오후 2002" />
<title>인쇄 - xrath.com 에서 번역됨</title>
	<link rel="StyleSheet" href="document.css" type="text/css" />
	<link rel="StyleSheet" href="catalog.css" type="text/css" />
    <link rel="Table of Contents" href="j2d-bookTOC.html" />
    <link rel="Previous" href="j2d-color.html" />
    <link rel="Next" href="" />
    <link rel="Index" href="j2d-print.html" />
  </head>

  <body>
<a href="#skip" title="네비게이션 링크를 스킵"></a> 
    <table summary="layout" id="layout" width="100%">
      <tr><td align="left">
<a accesskey="c" href="j2d-bookTOC.html">목차</a>  | <a accesskey="p" href="j2d-color.html">전의 항목</a>  | 다음의 항목
        </td>
		<td align="right">Java<font size="-2"><sup>TM</sup></font> 2D API 개발자 안내</td>
      </tr>
    </table>
<hr size="8" width="35%" align="left" noshade>
<a name="skip"></a>  <a name="wp418228"> </a> <h2 class="pChapNum">
제 7 장&#160;&#160;
</h2>
<a name="wp418231"> </a> <h2 class="pChapTitle">
인쇄
</h2>
<a name="wp417927"> </a> <p class="pBody">
어플리케이션에서는, Java 인쇄 API 를 사용해 다음의 처리가 가능합니다.
</p>
<ul class="pBullet1"><a name="wp417928"> </a> <div class="pBullet1"><li>AWT 와 Java 2D&#8482; 의 모든 그래픽스를 인쇄한다. 합성된 그래픽스 및 이미지를 포함한다. </li></div>
<a name="wp417929"> </a> <div class="pBullet1Plus"><li>합성된 그래픽스 및 이미지를 포함한 소프트 책의 장수를 세워 정리하는 것, 역순서 인쇄, 소책자 인쇄 등, 문서 편성 기능의 제어</li></div>
<a name="wp417930"> </a> <div class="pBullet1Plus"><li> 양면 인쇄나 호치키스 두고 등, 프린터 고유의 기능의 실행</li></div>
<a name="wp417931"> </a> <div class="pBullet1Last"><li>Windows 나 Solaris 등, 모든 플랫폼에서의 인쇄. 컴퓨터에 직접 접속되고 있는 프린터 뿐만이 아니라, 네트워크 인쇄 프로토콜을 사용해 플랫폼의 소프트웨어로부터 액세스 할 수 있는 프린터를 포함한다</li></div>
</ul>
<a name="wp420589"> </a> <p class="pBody">
이러한 기능안에는, Java&#8482; 2 SDK 의 인쇄 API 와 구현에서는 지원되어 있지 않은 것도 있습니다. 장래적으로는, 이러한 기능을 모두 지원하도록(듯이) API 가 확장될 예정입니다. 예를 들어, 어플리케이션을 제어할 수 있는 인쇄 작업의 이름 첨부 프로퍼티을 늘리는 것으로, 새로운 프린터 제어 기능이 추가됩니다.
</p>
<a name="wp418393"> </a> <h2 class="pHeading1">
7.1	인터페이스와 클래스
</h2>
<a name="wp421129"> </a> <div style="color: #000000; font-size: 10pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 7pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div><div align="left">
<table border="0" cellpadding="7" id="wp418427">
  <caption></caption>
<thead>
<tr  align="center">    <th><a name="wp418427"> </a> <div class="pCellHeading">
인터페이스
</div>
</th>
    <th><a name="wp418429"> </a> <div class="pCellHeading">
설명
</div>
</th>
</tr>
</thead>
  <tr align="left">    <td align="left" valign="top"><a name="wp418415"> </a> <div class="pCellBody">
<code class="cCode">Printable</code>
</div>
</td>
    <td align="left" valign="top"><a name="wp418441"> </a> <div class="pCellBody">
<code class="cCode">Printable</code> 인터페이스는, 「페이지페인타」마다 구현됩니다. 페이지페인타는, 인쇄 시스템이 페이지를 렌더링 하기 위해서 호출하는 어플리케이션 클래스입니다. <em class="cEmphasis"></em>시스템은, 페이지페인타의 <code class="cCode">print</code> 메소드를 호출해, 페이지의 렌더링을 요구합니다.
</div>
</td>
</tr>
  <tr align="left">    <td align="left" valign="top"><a name="wp418411"> </a> <div class="pCellBody">
<code class="cCode">Pageable</code>
</div>
</td>
    <td align="left" valign="top"><a name="wp418449"> </a> <div class="pCellBody">
<code class="cCode">Pageable</code> 인터페이스는, 인쇄 시스템으로 인쇄되는 문서가 구현합니다. 시스템은,<code class="cCode">Pageable</code> 의 메소드군을 사용해, 문서의 페이지수, 각 페이지로 사용되는 서식, 및 각 페이지의 렌더링에 사용하는 페이지페인타를 판단합니다.
</div>
</td>
</tr>
  <tr align="left">    <td align="left" valign="top"><a name="wp418407"> </a> <div class="pCellBody">
<code class="cCode">PrinterGraphics</code>
</div>
</td>
    <td align="left" valign="top"><a name="wp418457"> </a> <div class="pCellBody">
페이지를 렌더링 하기 위해서 페이지페인타가 사용하는 <code class="cCode">Graphics2D</code> 객체는,<code class="cCode">PrinterGraphics</code> 인터페이스를 구현합니다. 이것에 의해, 어플리케이션은, 인쇄를 제어하는 <code class="cCode">PrinterJob</code> 객체를 취득할 수 있습니다.
</div>
</td>
</tr>
</table>
</div>
<div style="color: #000000; font-size: 10pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 7pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp417944"> </a> <div style="color: #000000; font-size: 10pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 7pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">
</div><div align="left">
<table border="0" cellpadding="7" id="wp418472">
  <caption></caption>
<thead>
<tr  align="center">    <th><a name="wp418472"> </a> <div class="pCellHeading">
클래스
</div>
</th>
    <th><a name="wp418474"> </a> <div class="pCellHeading">
설명
</div>
</th>
</tr>
</thead>
  <tr align="left">    <td align="left" valign="top"><a name="wp418476"> </a> <div class="pCellBody">
<code class="cCode">Book</code>
</div>
</td>
    <td align="left" valign="top"><a name="wp418478"> </a> <div class="pCellBody">
인터페이스:<code class="cCode">Pageable</code>
</div>
<a name="wp418510"> </a> <div class="pCellBody">
페이지 마다 다른 페이지 서식과 페이지페인타를 사용할 수 있는 문서를 나타냅니다. 이 클래스는,<code class="cCode">Pageable</code> 인터페이스를 사용해,<code class="cCode">PrinterJob</code> 라고 대화합니다.
</div>
</td>
</tr>
  <tr align="left">    <td align="left" valign="top"><a name="wp418485"> </a> <div class="pCellBody">
<code class="cCode">PageFormat</code>
</div>
</td>
    <td align="left" valign="top"><a name="wp418516"> </a> <div class="pCellBody">
인쇄하는 페이지의 사이즈와 향해, 및 인쇄에 사용하는 <code class="cCode">Paper</code> 를 기술합니다. 예를 들어, 용지의 방향의 「세로」와「가로」는,<code class="cCode">PageFormat</code> 로 나타내집니다. <em class="cEmphasis"></em><em class="cEmphasis"></em>
</div>
</td>
</tr>
  <tr align="left">    <td align="left" valign="top"><a name="wp418489"> </a> <div class="pCellBody">
<code class="cCode">Paper</code>
</div>
</td>
    <td align="left" valign="top"><a name="wp418524"> </a> <div class="pCellBody">
1 매의 용지의 물리적 특성을 기술합니다.
</div>
</td>
</tr>
  <tr align="left">    <td align="left" valign="top"><a name="wp418493"> </a> <div class="pCellBody">
<code class="cCode">PrinterJob</code>
</div>
</td>
    <td align="left" valign="top"><a name="wp418532"> </a> <div class="pCellBody">
인쇄를 제어하는 중요한 클래스입니다. 어플리케이션은,<code class="cCode">PrinterJob</code> 의 메소드군을 호출해, 작업의 셋업, 사용자에게로의 인쇄 다이얼로그의 표시 (생략 가능), 작업 중(안)에서의 페이지의 인쇄등을 실시합니다.
</div>
</td>
</tr>
</table>
</div>
<div style="color: #000000; font-size: 10pt; font-style: normal; font-variant: normal; font-weight: normal; margin-bottom: 0pt; margin-left: 0pt; margin-right: 0pt; margin-top: 7pt; text-align: left; text-decoration: none; text-indent: 0pt; text-transform: none">

</div>
<a name="wp417953"> </a> <h2 class="pHeading1">
7.2	인쇄의 컨셉
</h2>
<a name="wp420599"> </a> <p class="pBody">
Java 인쇄 API 는, 「콜백」인쇄 모델에 근거하고 있습니다.  이 모델에서는, 어플리케이션은 아니고 인쇄 시스템이, 페이지를 인쇄할 때의 제어를 실시합니다. 어플리케이션은, 인쇄하는 문서에 대한 정보를 제공해, 인쇄 시스템은, 페이지의 렌더링이 필요하게 되면(자), 그것을 어플리케이션에 요구합니다.  
</p>
<a name="wp420653"> </a> <p class="pBody">
인쇄 시스템은, 같은 페이지의 렌더링을 2 회 이상 요구하거나 실제와는 다른 순서로 페이지의 렌더링을 요구하거나 하는 경우가 있습니다. 인쇄 시스템으로부터 어느 페이지가 요구되어도, 어플리케이션은 올바른 페이지 이미지를 생성할 수 없으면 안됩니다. 이 점, 인쇄 시스템은 윈도우 툴 킷과 닮아 있습니다.  윈도우 툴 킷은, 언제라도, 어떠한 순서에서도, 컴퍼넌트에 재draw를 요구할 수 있습니다.
</p>
<a name="wp420654"> </a> <p class="pBody">
콜백 인쇄 모델은, 종래의 어플리케이션 구동의 인쇄 모델보다 유연성이 있어, 보다 광범위한 시스템과 프린터에서의 인쇄에 대응하고 있습니다. 예를 들어, 역의 순서로 출력 페이지가 스택 되는 프린터의 경우, 인쇄 시스템은 어플리케이션에 역의 순서로 페이지를 생성하도록(듯이) 요구하는 것으로 스택의 페이지를 올바른 순서로 할 수 있습니다.  
</p>
<a name="wp420602"> </a> <p class="pBody">
이 모델을 사용하는 어플리케이션은, 충분한 메모리 또는 디스크 영역이 없기 때문에 페이지 전체의 비트 맵을 축적할 수 없는 컴퓨터로부터에서도, 비트 맵 프린터에 인쇄할 수 있습니다. 이 경우, 페이지는 일련의 작은 비트 맵 즉 「밴드」로서 인쇄됩니다. <em class="cEmphasis"></em>예를 들어, 1 페이지의 10 분의 1 에 상당하는 크기의 메모리 밖에 이용할 수 없는 경우, 페이지는 10 개의 밴드에 분할됩니다. 인쇄 시스템은, 어플리케이션에 대해, 페이지 마다 렌더링을 10 회 요구해, 1 회에 1 개의 밴드를 묻습니다. 어플리케이션은, 밴드의 수 또는 사이즈를 의식할 필요는 없습니다.  요구되었을 때에 그 페이지를 렌더링 할 수 있으면 충분합니다.
</p>
<a name="wp420680"> </a> <h3 class="pHeading2">
7.2. 1	인쇄의 지원
</h3>
<a name="wp420710"> </a> <p class="pBody">
어플리케이션은, 인쇄 기능을 지원하기 위해서, 다음의 2 개의 처리를 실시할 필요가 있습니다.
</p>
<ul class="pBullet1"><a name="wp420725"> </a> <div class="pBullet1"><li>작업 제어 &#8212; 인쇄 작업의 기동과 관리. </li></div>
<a name="wp420734"> </a> <div class="pBullet1Last"><li>이미징 &#8212; 인쇄 시스템으로부터 요구된 페이지의 렌더링. </li></div>
</ul>
<a name="wp420756"> </a> <h4 class="pHeading3">
7.2. 1.1	작업의 제어
</h4>
<a name="wp420777"> </a> <p class="pBody">
사용자는, 어플리케이션의 버튼을 클릭하거나 메뉴 항목을 선택하거나 해, 인쇄를 개시합니다. 사용자가 인쇄 조작을 기동하면(자), 어플리케이션은,<code class="cCode">PrinterJob</code> 객체를 작성해, 그것을 사용해 인쇄 처리를 관리합니다.  
</p>
<a name="wp420807"> </a> <p class="pBody">
어플리케이션은, 인쇄 작업을 설정해, 사용자에 대해서 인쇄 다이얼로그를 표시해, 인쇄 처리를 개시합니다.
</p>
<a name="wp420758"> </a> <h4 class="pHeading3">
7.2. 1.2	이미징 
</h4>
<a name="wp420736"> </a> <p class="pBody">
문서를 인쇄하는 경우, 어플리케이션은 인쇄 시스템으로부터의 요구에 대해서 각 페이지를 렌더링 할 필요가 있습니다. 이 구조를 지원하기 위해(때문에), 어플리케이션은,<code class="cCode">Printable</code> 인터페이스를 구현한 「페이지페인타」를 제공합니다. <em class="cEmphasis"></em>인쇄 시스템으로 페이지의 렌더링이 필요하게 되면(자), 인쇄 시스템은 페이지페인타의 <code class="cCode">print</code> 메소드를 호출합니다.
</p>
<a name="wp420899"> </a> <p class="pBody">
페이지페인타의 <code class="cCode">print</code> 메소드가 불려 가면(자), 메소드에는 페이지 이미지의 렌더링에 사용하는 <code class="cCode">Graphics</code> 문맥이 건네받습니다. 또, 페이지의 기하학적 레이아웃을 지정하는 <code class="cCode">PageFormat</code> 객체와 인쇄 작업내에서의 페이지의 차례를 나타내는 정수의 「페이지 인덱스」도 건네받습니다. <em class="cEmphasis"></em>
</p>
<a name="wp420607"> </a> <p class="pBody">
인쇄 시스템은,<code class="cCode">Graphics</code> 와 <code class="cCode">Graphics2D</code> 의 양쪽 모두의 렌더링을 지원하고 있습니다.  Java 2D&#8482; 의 <code class="cCode">Shape</code>,<code class="cCode">Text</code>, 및 <code class="cCode">Images</code> 를 인쇄하려면 ,<code class="cCode">print</code> 메소드에 건네주는 <code class="cCode">Graphics</code> 객체를 <code class="cCode">Graphics2D</code> 에 캐스트 합니다.
</p>
<a name="wp420859"> </a> <p class="pBody">
페이지에 따라서 다른 페이지페인타와 서식을 사용하는 문서를 인쇄하려면 , 「페이징 가능 (Pageable) 작업」을 사용합니다. Pageable 작업을 만들려면 ,<code class="cCode">Book</code> 클래스를 사용하는지, 또는 <code class="cCode">Pageable</code> 인터페이스의 독자적인 구현을 사용합니다. 단순한 인쇄 조작을 구현하는 경우는, Pageable 인쇄 작업을 사용할 필요는 없습니다.  모든 페이지가 같은 페이지 서식과 페이지페인타를 공유하는 경우는,<code class="cCode">Printable</code> 를 사용할 수 있습니다.
</p>
<a name="wp420933"> </a> <h3 class="pHeading2">
7.2. 2	페이지페인타
</h3>
<a name="wp420934"> </a> <p class="pBody">
페이지페인타의 주요한 기능은, 인쇄 시스템으로부터 제공되는 그래픽스 문맥을 사용해, 페이지를 렌더링 하는 것입니다. 페이지페인타는, 다음의 <code class="cCode">Printable</code>. <code class="cCode">print</code> 메소드를 구현하고 있습니다.
</p>
<div class="pPreformatted"><pre class="pPreformatted">
<code class="cCode">public int print(Graphics g, PageFormat pf, int pageIndex) </code><a name="wp420935"> </a> 
</pre></div>
<a name="wp420936"> </a> <p class="pBody">
<code class="cCode">print</code> 메소드에게 건네지는 그래픽 문맥은,<code class="cCode">Graphics</code> 또는 <code class="cCode">Graphics2D</code> 의 인스턴스입니다.  어느 쪽을 사용할까는, Java 가상 머신에 로드 되고 있는 패키지에 의해 정해집니다. <code class="cCode"><code class="cCode">Graphics2D</code> 의 기능을 사용하려면 ,<code class="cCode">Graphics</code> 객체를 <code class="cCode">Graphics2D</code> 객체에 캐스트 합니다. <code class="cCode">print</code> 에게 건네지는 <code class="cCode">Graphics</code> 인스턴스는,<code class="cCode">PrinterGraphics</code> 도 구현하고 있습니다.
</p>
<a name="wp420937"> </a> <p class="pBody">
<code class="cCode">Printable</code> 에게 건네지는 <code class="cCode">PageFormat</code> 에서는, 인쇄하는 페이지의 기하학적인 배치 (지오메트리)가 기술되고 있습니다. <code class="cCode"><code class="cCode">print</code> 에게 건네지는 그래픽스 문맥의 좌표계는, 그 페이지에 고정되고 있습니다. 좌표계의 원점은, 용지의 좌상구석입니다. <em class="cEmphasis">X</em> 좌표의 값은 오른쪽을 향해,<em class="cEmphasis">Y</em> 좌표의 값은 아래로 향해 각각 증가해, 단위는 1/72 인치입니다. 페이지의 방향이 세로의 경우, x 축은 용지의 「폭」의 방향이 되어, y 축은 용지의 「높이」의 방향이 됩니다. 용지의 높이는 폭보다 긴 것이 보통입니다만, 그렇지 않은 경우도 있습니다. 페이지의 방향이 옆의 경우는, 축과 용지의 관계가 거꾸로 되어, x 축이 용지의 「높이」방향, y 축이 용지의 「폭」방향이 됩니다.
</p>
<a name="wp420938"> </a> <p class="pBody">
용지의 인연까지 인쇄할 수 있는 프린터는 적기 때문에,<code class="cCode">PageFormat</code> 에서는 페이지의 「이미징 가능 영역」이 지정되고 있습니다.  이것은, 페이지 중(안)에서 안전하게 렌더링 할 수 있는 부분입니다. 이것은, 페이지 중(안)에서 안전하게 렌더링 할 수 있는 부분입니다. 이미징 가능 영역은, 페이지의 내용을 렌더링 할 경우에, 프린터를 인쇄할 수 없는 영역까지 퍼지는 것이 없게하기 위한의 것입니다.
</p>
<a name="wp420939"> </a> <p class="pBody">
<code class="cCode">print</code> 에게 건네지는 그래픽 문맥에는 클리핑 영역의 정보가 포함되어 있어, 이 정보에서는, 이미징 가능 영역 중(안)에서 draw 할 필요가 있는 부분이 기술되고 있습니다. 인쇄 시스템이 필요한 클리핑 처리를 실시하기 (위해)때문에, 문맥에 페이지 전체를 draw 해도 안전합니다. 다만, 클리핑 영역을 사용해 렌더링 되는 범위를 제한하는 것으로, 페이지안의 인쇄되지 않는 부분까지 draw 하는 것에 의한 오버헤드를 제외할 수가 있습니다. 그래픽스 문맥으로부터 클리핑 영역을 가져오려면 ,<code class="cCode">Graphics.getClip</code> 를 호출합니다. 클리핑 영역을 사용해 렌더링의 오버헤드를 줄이는 것을, 강하게 추천합니다.
</p>
<a name="wp420940"> </a> <p class="pBody">
페이지가 렌더링 되고 있는 동안에서도 사용자가 어플리케이션과 대화를 계속할 수가 있도록, 인쇄 조작을 모두 「백그라운드」에서 기동하는 것이 바람직한 경우가 있습니다. 그 때문에(위해)는, 독립한 thread로 <code class="cCode">PrinterJob.print</code> 를 호출합니다.
</p>
<a name="wp420941"> </a> <p class="pBody">
<code class="cCode">copyArea</code>,<code class="cCode">setXOR</code>, 합성등과 같이, 전의 이미지의 내용에 대한 정보가 필요한 그래픽스 조작은, 할 수 있는 한 피할 필요가 있습니다. 이러한 조작을 실시하면, 렌더링이 늦어져, 결과의 무결성이 유지되지 않는 경우가 있습니다.
</p>
<a name="wp417961"> </a> <h3 class="pHeading2">
7.2. 3	Printable 작업과 Pageable 작업
</h3>
<a name="wp417963"> </a> <p class="pBody">
<code style="font-style: normal" class="cCode">Printable</code> 작업은, 인쇄를 실시하는 가장 간단한 방법입니다. 사용하는 페이지페인타는 1 개만으로, 어플리케이션은 <code class="cCode">Printable</code> 인터페이스를 구현하는 단일의 클래스를 제공합니다. 인쇄를 실시할 때는, 인쇄 시스템이 페이지페인타의 <code class="cCode">print</code> 메소드를 호출해, 각 페이지를 렌더링 합니다. 페이지의 인덱스는 0 으로부터 시작되어, 페이지는 차례대로 요구됩니다. 다만, 다음의 페이지에 진행되기 전에, 같은 페이지의 렌더링 요구가 몇번이나 페이지페인타에 대해서 행해지는 경우가 있습니다. 마지막 페이지가 인쇄되면(자), 페이지페인타의 print 메소드는 NO_SUCH_PAGE 를 돌려줍니다.  
</p>
<a name="wp419828"> </a> <p class="pBody">
<code class="cCode">Printable</code> 작업에는, 다음과 같은 특징이 있습니다.
</p>
<ul class="pBullet1"><a name="wp418567"> </a> <div class="pBullet1"><li>모든 페이지는, 같은 페이지페인타와 <code class="cCode">PageFormat</code> 를 사용합니다. 인쇄 다이얼로그를 제시하는 경우, 인쇄 시스템은 페이지수의 정보를 이용할 수 없기 때문에, 문서의 페이지수는 표시되지 않습니다. </li></div>
<a name="wp418568"> </a> <div class="pBullet1Plus"><li>인쇄 시스템은, 항상, 인덱스의 차례로 페이지의 인쇄를 페이지페인타에 요구합니다.  페이지의 인덱스는 0 으로부터 시작됩니다. 페이지가 날 것은 없습니다.  예를 들어, 사용자가 문서의 2 페이지눈과 3 페이지눈의 인쇄를 요구했을 경우, 페이지페인타의 호출로 지정되는 인덱스는 0, 1, 및 2 가 됩니다. </li></div>
<a name="wp417966"> </a> <div class="pBullet1Plus"><li>인쇄 시스템은, 다음의 페이지의 인쇄로 옮기기 전에, 같은 페이지의 렌더링을 여러 차례 요구하는 경우가 있습니다. </li></div>
<a name="wp417967"> </a> <div class="pBullet1Plus"><li>문서의 말미에 이르면(자), 페이지페인타는 그것을 인쇄 시스템에 통지합니다. </li></div>
<a name="wp417968"> </a> <div class="pBullet1Last"><li>모든 페이지페인타는, 같은 thread로 불려 갑니다. 예를 들어, 프린터로부터 출력되는 페이지가 올바른 차례로 되지 않기도 하고, 부수가 복수의 경우에 페이지의 책의 장수를 세워 정리하는 것이 올바르지 않거나 하는 경우가 있습니다. </li></div>
</ul>
<a name="wp417969"> </a> <p class="pBody">
<code style="font-style: normal" class="cCode">Pageable</code> 작업은,<code class="cCode">Printable</code> 작업보다 유연성이 있습니다. <code class="cCode"><code class="cCode">Printable</code> 작업의 페이지와는 달라,<code class="cCode">Pageable</code> 작업의 페이지는 레이아웃과 구현이 차이가 나도 괜찮습니다. <code class="cCode">Pageable</code> 작업을 관리하려면 ,<code class="cCode">Book</code> 클래스를 사용하는지, 또는 독자적으로 <code class="cCode">Pageable</code> 클래스를 구현합니다. <code class="cCode">Pageable</code> 를 사용하면(자), 인쇄 시스템은, 인쇄하는 페이지수, 각 페이지로 사용하는 페이지페인타, 및 각 페이지로 사용하는 <code class="cCode">PageFormat</code> 를 특정할 수 있습니다. 정해진 구조와 서식을 가지는 문서를 인쇄할 필요가 있는 어플리케이션은,<code class="cCode">Pageable</code> 작업을 사용할 필요가 있습니다 
</p>
<a name="wp419829"> </a> <p class="pBody">
<code class="cCode">Pageable</code> 작업에는, 다음과 같은 특징이 있습니다.
</p>
<ul class="pBullet1"><a name="wp417970"> </a> <div class="pBullet1"><li>페이지 마다 다른 페이지페인타와 <code class="cCode">PageFormat</code> 를 사용할 수 있습니다.  </li></div>
<a name="wp417971"> </a> <div class="pBullet1Plus"><li>인쇄 시스템은, 페이지페인타에 임의의 차례로 페이지의 인쇄를 요구할 수 있어 도중의 페이지가 생략해지는 경우가 있습니다. 예를 들어, 사용자가 문서의 2 페이지눈과 3 페이지눈의 인쇄를 요구했을 경우, 페이지페인타의 호출로 지정되는 인덱스는 1 으로 2 만으로, 페이지 인덱스 0 은 생략 됩니다. </li></div>
<a name="wp420244"> </a> <div class="pBullet1Last"><li><code class="cCode">Pageable</code> 작업에서는, 문서의 페이지수의 정보가 미리 필요하게 될 것은 없습니다. 다만,<code class="cCode">Printable</code> 작업과는 달라, 어떠한 순서에서도 페이지를 렌더링 할 수 없으면 안됩니다. 순서 지정은 날고 있는 경우가 있어, 인쇄 시스템은, 다음의 페이지의 인쇄로 옮기기 전에, 같은 페이지의 렌더링을 여러 차례 요구하는 일이 있습니다. 예를 들어, 문서의 2 페이지눈과 3 페이지눈을 인쇄하는 요구의 경우, 호출로 요구되는 페이지의 인덱스가 2, 2, 1, 1, 1 이라고 하는 순서가 될 수도 있습니다. </li></div>
</ul>
<a name="wp420247"> </a> <h3 class="pHeading2">
7.2. 4	PrinterJob 의 일반적인 순서
</h3>
<a name="wp420223"> </a> <p class="pBody">
어플리케이션은, 인쇄 작업이 완료할 때까지의 일련의 순서에 따라,<code class="cCode">PrinterJob</code> 객체를 제어합니다. 다음에 나타내는 것은, 가장 간단한 순서입니다.
</p>
<ol class="pList1"><a name="wp417976"> </a> <div class="pList1"><li><code class="cCode">PrinterJob.getPrinterJob</code> 를 호출해, 새로운 <code class="cCode">PrinterJob</code> 객체를 가져옵니다. </li></div>
<a name="wp417977"> </a> <div class="pList1Plus"><li>인쇄로 사용하는 <code class="cCode">PageFormat</code> 를 결정합니다. 디폴트의 <code class="cCode">PageFormat</code> 을 가져오려면 ,<code class="cCode">defaultPage</code> 를 호출합니다.  사용자가 서식을 지정할 수 있도록(듯이) 다이알로그 박스를 표시하려면 ,<code class="cCode">pageDialog</code> 를 호출합니다. </li></div>
<a name="wp417978"> </a> <div class="pList1Plus"><li><code class="cCode">PrinterJob</code> 에 인쇄되는 작업의 특성을 지정합니다. <code class="cCode"><code class="cCode">Printable</code> 작업의 경우는,<code class="cCode">setPrintable</code> 를 호출합니다. <code class="cCode"> Pageable</code> 작업의 경우는,<code class="cCode">setPageable</code> 를 호출합니다. <code class="cCode">setPageable</code> 에 건네주려면 <code class="cCode">Book</code> 객체가 최선입니다. </li></div>
<a name="wp417979"> </a> <div class="pList1Plus"><li>인쇄하는 부수나 배너 페이지에 인쇄하는 작업의 이름 등입니다. </li></div>
<a name="wp417980"> </a> <div class="pList1Plus"><li>필요가 있는 경우는,<code class="cCode">printDialog</code> 를 호출해, 다이알로그 박스를 사용자에게 제시합니다. 이것은 생략 가능합니다. 이 다이얼로그의 내용과 표시 형식은, 플랫폼이나 프린터의 종류에 의해 다릅니다. 대부분의 플랫폼에서는, 사용자는, 이 다이알로그 박스로 프린터의 선택을 변경할 수 있습니다. 사용자가 인쇄 작업을 캔슬하면(자),<code class="cCode">printDialog</code> 메소드로부터 <code class="cCode">FALSE</code> 가 돌려주어집니다. </li></div>
<a name="wp420961"> </a> <div class="pList1Last"><li><code class="cCode">Printerjob.print</code> 를 호출해, 작업을 인쇄합니다. 이 메소드에서는, 적절한 페이지페인타의 <code class="cCode">print</code> 가 불려 갑니다. </li></div>
</ol>
<a name="wp420962"> </a> <p class="pBody">
다음의 경우, 인쇄의 도중에 작업이 종료하는 일이 있습니다.
</p>
<ul class="pBullet1"><a name="wp420963"> </a> <div class="pBullet1"><li><code class="cCode">PrinterException</code> 의 throw &#8212; <code class="cCode">print</code> 메소드가 이 예외를 캐치 하면(자), 작업은 정지합니다. 페이지페인타는, 치명적인 에러를 검출하면(자),<code class="cCode">PrinterException</code> 를 throw 합니다.  </li></div>
<a name="wp417984"> </a> <div class="pBullet1Last"><li> <code class="cCode">PrinterJob.cancel</code> 의 호출 &#8212; 인쇄 처리의 루프가 중지되어, 작업은 캔슬됩니다. 다이알로그 박스를 표시해, 박스의 버튼을 클릭하는 것으로 사용자가 인쇄를 캔슬할 수 있도록(듯이) 하려면 , 독립한 thread로 다이알로그 박스의 표시와 <code class="cCode">cancel</code> 메소드의 호출을 실시합니다. </li></div>
</ul>
<a name="wp417985"> </a> <p class="pBody">
인쇄 작업이 정지하기 전에 생성된 페이지는, 인쇄되는 경우로 여겨지지 않는 경우가 있습니다.
</p>
<a name="wp417986"> </a> <p class="pBody">
일반적으로,<code class="cCode">print</code> 메소드로부터 돌아온 시점에서는, 인쇄 작업은 완료하고 있습니다. 프린터 드라이버, 프린터 서버, 또는 프린터 자체에서의 처리가 아직 행해지고 있는 것이 보통입니다. <code class="cCode">PrinterJob</code> 객체 상태는, 인쇄되고 있는 실제의 작업 상태를 반영하지 않는 경우가 있습니다.
</p>
<a name="wp420329"> </a> <p class="pBody">
<code class="cCode">PrinterJob</code> 상태는 처리 순서의 과정에서 변화하므로, 메소드에 의해, 호출하면(자) 부정하게 되는 타이밍이 있습니다. 예를 들어,<code class="cCode">print</code> 를 호출한 후에 <code class="cCode">setPageable</code> 를 호출해도 무의미합니다. 부정한 호출을 검출하면(자),<code class="cCode">PrinterJob</code> 는 <code class="cCode">java.lang.IllegalStateException</code> 를 throw 합니다.
</p>
<a name="wp417988"> </a> <h3 class="pHeading2">
7.2. 5	다이얼로그
</h3>
<a name="wp417989"> </a> <p class="pBody">
Java 인쇄 API 에서는, 사용자 인터페이스용의 다이얼로그를 어플리케이션이 명시적으로 호출하는 것이 요구됩니다. 이러한 다이얼로그는, 플랫폼 (Windows 등) 또는 Java&#8482; 2 SDK 의 구현으로 제공되는 경우가 있습니다. 대화형 어플리케이션의 경우, 이러한 다이얼로그를 사용하는 것이 일반적입니다. 다만, 배치용 인쇄 어플리케이션의 경우는, 다이얼로그는 필요 없습니다. 예를 들어, 야간에 데이타베이스의 리포트를 자동적으로 생성해 인쇄하는 경우 등, 다이얼로그의 표시는 불필요합니다. 사용자의 개입을 필요로 하지 않는 인쇄 작업을, 「사일런트」인쇄 작업이라고 부르는 경우가 있습니다. <em class="cEmphasis"></em>
</p>
<a name="wp417990"> </a> <h4 class="pHeading3">
7.2. 5.1	페이지 설정 다이얼로그
</h4>
<a name="wp417991"> </a> <p class="pBody">
<code class="cCode">PageFormat</code> 에 포함되는 페이지 설정 정보를 사용자가 변경할 수 있도록(듯이) 하려면 , 페이지 설정 다이얼로그를 표시합니다. 페이지 설정 다이얼로그를 표시하려면 ,<code class="cCode">PrinterJob.pageDialog</code> 를 호출합니다. 페이지 설정 다이얼로그는,<code class="cCode">pageDialog</code> 에 건네주는 파라미터로 초기화됩니다. 사용자가 다이얼로그의 [OK] 버튼을 클릭하면(자),<code class="cCode">PageFormat</code> 의 인스턴스가 복제되어, 사용자의 선택에 따라 변경된 뒤, 메소드로부터 돌려주어집니다. 사용자가 다이얼로그로 캔슬을 선택했을 경우는, 변경되어 있지 않은 원의 <code class="cCode">PageFormat</code> 가 <code class="cCode">pageDialog</code> 로부터 돌려주어집니다.
</p>
<a name="wp417993"> </a> <h4 class="pHeading3">
7.2. 5.2	인쇄 다이얼로그
</h4>
<a name="wp417994"> </a> <p class="pBody">
일반적으로, 메뉴의 인쇄 항목 또는 인쇄 버튼이 기동되면(자), 어플리케이션은 사용자에 대해서 인쇄 다이얼로그를 제시합니다. 인쇄 다이얼로그를 표시하려면 ,<code class="cCode">PrinterJob 의 printDialog</code> 를 호출합니다. <code class="cCode">PrinterJob</code> 에 제공되고 있는 <code class="cCode">Printable</code> 또는 <code class="cCode">Pageable</code> 로 설정되어 있는 페이지수와 페이지 서식에 근거해, 다이얼로그에서의 사용자의 선택이 제한됩니다. 인쇄 다이얼로그로 사용자가 [OK] 를 클릭하면(자),<code class="cCode">printDialog</code> 로부터는 <code class="cCode">TRUE</code> 가 돌려주어집니다. 사용자가 인쇄 다이얼로그로 캔슬을 선택하면(자), 메소드로부터는 <code class="cCode">FALSE</code> 가 돌려주어져 인쇄 작업이 파기된 것으로서 처리할 필요가 있습니다.
</p>
<a name="wp418013"> </a> <h2 class="pHeading1">
7.3	Printable 에서의 인쇄
</h2>
<a name="wp420973"> </a> <p class="pBody">
기본적인 인쇄 처리는, 다음의 순서로 실시합니다.
</p>
<ol class="pList1"><a name="wp420976"> </a> <div class="pList1"><li><code class="cCode">Printable</code> 인터페이스를 구현해, 인쇄하는 각 페이지를 렌더링 할 수 있는 페이지페인타를 제공한다</li></div>
<a name="wp420983"> </a> <div class="pList1Plus"><li><code class="cCode">PrinterJob</code> 를 작성한다</li></div>
<a name="wp420984"> </a> <div class="pList1Plus"><li><code class="cCode">setPrintable</code> 를 호출해, 문서의 인쇄 방법을 <code class="cCode">PrinterJob</code> 에게 전한다</li></div>
<a name="wp420986"> </a> <div class="pList1Last"><li><code class="cCode">PrinterJob</code> 객체의 <code class="cCode">print</code> 를 호출해, 작업을 개시한다</li></div>
</ol>
<a name="wp418014"> </a> <p class="pBody">
다음의 예에서는,<code class="cCode">Printable</code> 작업을 사용해 5 페이지의 문서를 인쇄해, 각 페이지에 녹색으로 페이지 번호를 붙입니다. 작업의 제어는 <code class="cCode">main</code> 메소드로 실시해, 이 메소드 중(안)에서 <code class="cCode">PrinterJob</code> 를 취득해 제어합니다. 렌더링은, 페이지페인타의 <code class="cCode">print</code> 메소드로 행해집니다.
</p>
<div class="pPreformatted"><pre class="pPreformatted">
import java.awt. *; import java.awt.print. *;<a name="wp418015"> </a> 
public class SimplePrint implements Printable <a name="wp418016"> </a> 
{   <a name="wp419941"> </a> 
  private static Font fnt = new Font(&quot;Helvetica&quot;, Font.PLAIN, 24);<a name="wp418632"> </a> 
  <a name="wp418017"> </a> 
  public static void main(String[] args) <a name="wp418760"> </a> 
  {     <a name="wp418639"> </a> 
    // Get a PrinterJob     <a name="wp418644"> </a> 
    PrinterJob job = PrinterJob.getPrinterJob();     <a name="wp418647"> </a> 
    // Specify the Printable is an instance of SimplePrint<a name="wp418658"> </a> 
    job.setPrintable(new SimplePrint());     <a name="wp418666"> </a> 
    // Put up the dialog box     <a name="wp418677"> </a> 
    if (job.printDialog()) <a name="wp418678"> </a> 
    { 	<a name="wp418713"> </a> 
      // Print the job if the user didn&#39;t cancel printing <a name="wp418682"> </a> 
      try { job.print(); }<a name="wp418683"> </a> 
      catch (Exception e)<a name="wp418684"> </a> 
        { /* handle exception */ }<a name="wp418685"> </a> 
    }     <a name="wp418724"> </a> 
    System.exit(0);   <a name="wp418686"> </a> 
  }<a name="wp418731"> </a> 
<a name="wp418687"> </a> 
  public int print(Graphics g, PageFormat pf, int pageIndex)<a name="wp418690"> </a> 
  throws PrinterException <a name="wp418732"> </a> 
  {     <a name="wp418691"> </a> 
    // pageIndex 0 to 4 corresponds to page numbers 1 to 5. <a name="wp418692"> </a> 
    if (pageIndex &gt;= 5) return Printable.NO_SUCH_PAGE;   <a name="wp418745"> </a> 
    g.setFont(fnt);     <a name="wp418747"> </a> 
    g.setColor(Color.green);     <a name="wp418746"> </a> 
    g.drawString(&quot;Page &quot; + (pageIndex+1), 100, 100);     <a name="wp418695"> </a> 
    return Printable.PAGE_EXISTS;   <a name="wp418702"> </a> 
  } <a name="wp418703"> </a> 
}<a name="wp418704"> </a> 
</pre></div>
<a name="wp418019"> </a> <h3 class="pHeading2">
7.3. 1	Graphics2D 를 사용한 렌더링 
</h3>
<a name="wp421000"> </a> <p class="pBody">
페이지페인타의 print 메소드 중(안)에서 <code class="cCode">Graphics2D</code> 의 기능을 실행하려면 , 최초로 <code class="cCode">Graphics</code> 문맥을 <code class="cCode">Graphics2D</code> 에 캐스트 합니다.
</p>
<a name="wp420997"> </a> <p class="pBody">
다음의 예에서는, 페이지 번호를 빨강과 초록의 그라데이션으로 렌더링 합니다. 그 때문에(위해),<code class="cCode">GradientPaint</code> 가 <code class="cCode">Graphics2D</code> 문맥으로 설정되어 있습니다.
</p>
<div class="pPreformatted"><pre class="pPreformatted">
import java.awt. *; import java.awt.print. *;<a name="wp418020"> </a> 
public class SimplePrint2D implements Printable <a name="wp418021"> </a> 
{   <a name="wp418786"> </a> 
  private static Font fnt = new Font(&quot;Helvetica&quot;, Font.PLAIN, 24);<a name="wp418787"> </a> 
  <a name="wp418788"> </a> 
  private Paint pnt = new GradientPaint(100f, 100f, Color.red, 	                                          136f, 100f, Color.green, true);<a name="wp418789"> </a> 
  <a name="wp418022"> </a> 
  public static void main(String[] args) <a name="wp418793"> </a> 
  {     <a name="wp418792"> </a> 
    // Get a PrinterJob     <a name="wp418794"> </a> 
    PrinterJob job = PrinterJob.getPrinterJob();     <a name="wp418795"> </a> 
    // Specify the Printable is an instance of SimplePrint2D<a name="wp418871"> </a> 
    job.setPrintable(new SimplePrint2D());     <a name="wp418873"> </a> 
    // Put up the dialog box     <a name="wp418872"> </a> 
    if (job.printDialog()) <a name="wp418800"> </a> 
    { 	<a name="wp418890"> </a> 
      // Print the job if the user didn&#39;t cancel printing <a name="wp418801"> </a> 
      try { job.print(); } 	    <a name="wp418802"> </a> 
      catch (Exception e) { /* handle exception */ }     <a name="wp418803"> </a> 
    }     <a name="wp418808"> </a> 
  System.exit(0);   <a name="wp418809"> </a> 
  }<a name="wp418810"> </a> 
<a name="wp418023"> </a> 
  public int print(Graphics g, PageFormat pf, int pageIndex)<a name="wp418817"> </a> 
  throws PrinterException <a name="wp418818"> </a> 
  {     <a name="wp418821"> </a> 
    // pageIndex 0 to 4 corresponds to page numbers 1 to 5. <a name="wp418822"> </a> 
    if (pageIndex &gt;= 5) return Printable.NO_SUCH_PAGE;<a name="wp418827"> </a> 
    Graphics2D g2 = (Graphics2D) g;<a name="wp418834"> </a> 
    // Use the font defined above<a name="wp420398"> </a> 
    g2.setFont(fnt);<a name="wp418837"> </a> 
    // Use the gradient color defined above<a name="wp420391"> </a> 
    g2.setPaint(pnt);<a name="wp418840"> </a> 
    g2.drawString(&quot;Page &quot; + (pageIndex+1), 100f, 100f);<a name="wp418846"> </a> 
    return Printable.PAGE_EXISTS;   <a name="wp418785"> </a> 
  } <a name="wp418784"> </a> 
}<a name="wp418783"> </a> 
</pre></div>
<a name="wp418024"> </a> <h3 class="pHeading2">
7.3. 2	파일의 인쇄
</h3>
<a name="wp421029"> </a> <p class="pBody">
페이지페인타의 print 메소드가 같은 페이지에 대해서 반복해 불려 가는 경우, 메소드는 그때마다 같은 출력을 생성하지 않으면 안됩니다.
</p>
<a name="wp421046"> </a> <p class="pBody">
같은 페이지에 대해서 반복해 렌더링 요구가 있을 때마다, 항상 같은 출력을 생성하는 방법은 얼마든지 있습니다. 예를 들어, 텍스트 파일의 특정의 페이지를 인쇄 시스템이 요구할 때마다, 같은 출력이 생성되도록(듯이) 하려면 , 페이지페인타로, 페이지마다의 파일 포인터를 포함해 재사용하는지, 실제의 페이지 데이터를 포함하도록(듯이) 합니다.  
</p>
<a name="wp418025"> </a> <p class="pBody">
다음의 예에서는, 텍스트 파일의 「리스트 표시」가 인쇄되고 있습니다. 파일의 이름은,<code class="cCode">main</code> 메소드에 인수로서 건네받고 있습니다. <code class="cCode">PrintListingPainter</code> 클래스는, 렌더링이 요구된 새로운 페이지의 개시 위치에서, 사용되고 있는 파일 포인터를 보관합니다. 같은 페이지를 다시 렌더링 할 때는, 파일 포인터를 기억되어 있는 위치에 리셋 합니다.
</p>
<div class="pPreformatted"><pre class="pPreformatted">
import java.awt. *; <a name="wp418027"> </a> 
import java.awt.print. *; <a name="wp418927"> </a> 
import java.io. *;<a name="wp418928"> </a> 
<a name="wp418028"> </a> 
public class PrintListing <a name="wp419260"> </a> 
{   <a name="wp418929"> </a> 
  public static void main(String[] args) <a name="wp418930"> </a> 
  {     <a name="wp418931"> </a> 
    // Get a PrinterJob<a name="wp418932"> </a> 
    PrinterJob job = PrinterJob.getPrinterJob();<a name="wp418933"> </a> 
    // Ask user for page format (e.g., portrait/landscape)<a name="wp418940"> </a> 
    PageFormat pf = job.pageDialog(job.defaultPage());<a name="wp418943"> </a> 
    // Specify the Printable is an instance of<a name="wp418946"> </a> 
    // PrintListingPainter; also provide given PageFormat<a name="wp418954"> </a> 
    job.setPrintable(new PrintListingPainter(args[0]), pf);<a name="wp418961"> </a> 
    // Print 1 copy   <a name="wp418964"> </a> 
    job.setCopies(1);     <a name="wp418967"> </a> 
    // Put up the dialog box     <a name="wp418970"> </a> 
    if (job.printDialog()) <a name="wp418973"> </a> 
    {<a name="wp419290"> </a> 
      // Print the job if the user didn&#39;t cancel printing<a name="wp418976"> </a> 
      try { job.print(); }<a name="wp418979"> </a> 
      catch (Exception e) { /* handle exception */ }     <a name="wp418982"> </a> 
    }     <a name="wp418985"> </a> 
    System.exit(0);   <a name="wp418988"> </a> 
  } <a name="wp418991"> </a> 
}<a name="wp418992"> </a> 
<a name="wp418993"> </a> 
class PrintListingPainter implements Printable <a name="wp418029"> </a> 
{<a name="wp418994"> </a> 
  private RandomAccessFile raf;   <a name="wp418995"> </a> 
  private String fileName;   <a name="wp419004"> </a> 
  private Font fnt = new Font(&quot;Helvetica&quot;, Font.PLAIN, 10);<a name="wp419007"> </a> 
  private int rememberedPageIndex = -1;   <a name="wp419010"> </a> 
  private long rememberedFilePointer = -1;   <a name="wp419013"> </a> 
  private boolean rememberedEOF = false;<a name="wp419016"> </a> 
  <a name="wp418030"> </a> 
  public PrintListingPainter(String file) <a name="wp419019"> </a> 
  { <a name="wp419020"> </a> 
    fileName = file;     <a name="wp419021"> </a> 
    try<a name="wp419024"> </a> 
    { <a name="wp419030"> </a> 
      // Open file 	<a name="wp419027"> </a> 
      raf = new RandomAccessFile(file, &quot;r&quot;);     <a name="wp419035"> </a> 
    } <a name="wp419038"> </a> 
    catch (Exception e) { rememberedEOF = true; }   <a name="wp419281"> </a> 
  }<a name="wp419044"> </a> 
<a name="wp418031"> </a> 
  public int print(Graphics g, PageFormat pf, int pageIndex)<a name="wp419045"> </a> 
  throws PrinterException <a name="wp419046"> </a> 
  {<a name="wp419049"> </a> 
  try <a name="wp419052"> </a> 
  { <a name="wp419053"> </a> 
    // For catching IOException     <a name="wp419054"> </a> 
    if (pageIndex ! = rememberedPageIndex) <a name="wp419055"> </a> 
    { <a name="wp419056"> </a> 
      // First time we&#39;ve visited this page<a name="wp419057"> </a> 
      rememberedPageIndex = pageIndex; 	<a name="wp419060"> </a> 
      // If encountered EOF on previous page, done <a name="wp419063"> </a> 
      if (rememberedEOF) return Printable.NO_SUCH_PAGE;<a name="wp419066"> </a> 
      // Save current position in input file<a name="wp419071"> </a> 
      rememberedFilePointer = raf.getFilePointer();<a name="wp419076"> </a> 
    } <a name="wp419079"> </a> 
    else raf.seek(rememberedFilePointer);<a name="wp419245"> </a> 
    g.setColor(Color.black);     <a name="wp418032"> </a> 
    g.setFont(fnt); <a name="wp419082"> </a> 
	int x = (int) pf.getImageableX() + 10;<a name="wp420411"> </a> 
	int y = (int) pf.getImageableY() + 12;    <a name="wp420412"> </a> 
    // Title line     <a name="wp419085"> </a> 
    g.drawString(&quot;File: &quot; + fileName + &quot;, page: &quot; + 			                 (pageIndex+1),  x, y);<a name="wp419088"> </a> 
    // Generate as many lines as will fit in imageable area<a name="wp419091"> </a> 
    y += 36;<a name="wp419092"> </a> 
    while (y + 12 &lt; pf.getImageableY() +pf.getImageableHeight())<a name="wp419093"> </a> 
    {<a name="wp419236"> </a> 
      String line = raf.readLine();<a name="wp419099"> </a> 
      if (line == null)<a name="wp419100"> </a> 
      { <a name="wp419102"> </a> 
        rememberedEOF = true;<a name="wp419101"> </a> 
        break; <a name="wp419103"> </a> 
		}<a name="wp420419"> </a> 
        g.drawString(line, x, y); <a name="wp419104"> </a> 
        y += 12;     <a name="wp419105"> </a> 
      }<a name="wp419106"> </a> 
      return Printable.PAGE_EXISTS;    <a name="wp419136"> </a> 
    } <a name="wp419342"> </a> 
    catch (Exception e) { return Printable.NO_SUCH_PAGE;}<a name="wp419343"> </a> 
  } <a name="wp419344"> </a> 
}<a name="wp418923"> </a> 
</pre></div>
<a name="wp418034"> </a> <h2 class="pHeading1">
7.4	Pageable 와 Book 에서의 인쇄
</h2>
<a name="wp418035"> </a> <p class="pBody">
<code class="cCode">Pageable</code> 작업은, 문서의 체재를 1 페이지씩 명시적으로 구성하는 어플리케이션에 적절하고 있습니다. <code class="cCode">Book</code> 클래스는 <code class="cCode">Pageables</code> 를 간편하게 사용하기 위한 수단입니다만,<code class="cCode">Book</code> 가 목적에 맞지 않는 경우는,<code class="cCode">Pageable</code> 의 구조를 독자적으로 만들 수도 있습니다. 여기에서는,<code class="cCode">Book</code> 의 사용 방법을 설명합니다.
</p>
<a name="wp418036"> </a> <p class="pBody">
조금 복잡하게는 됩니다만, 인쇄 시스템의 유연성이 더하므로,<code class="cCode">Pageable</code> 작업보다 <code class="cCode">Printable</code> 작업 쪽이 실용에 적절하고 있습니다. <code class="cCode"><code class="cCode">Pageables</code> 의 큰 이점은, 문서의 페이지수를 알 수 있어, 인쇄 다이알로그 박스로 사용자에 대해서 표시할 수 있는 것입니다. 사용자는, 작업이 올바르게 지정되고 있는지 확인하거나 인쇄하는 페이지의 범위를 선택하거나 할 경우에, 이 정보를 참고로 할 수 있습니다.
</p>
<a name="wp418037"> </a> <p class="pBody">
<code class="cCode">Book</code> 는, 페이지의 집합을 나타냅니다. <KBD><KBD>Book</kbd> 안의 페이지는, 같은 사이즈나 향해, 또는 같은 페이지페인타를 공유할 필요는 없습니다. 예를 들어, 1 개의 <code class="cCode">Book</code> 로, 2 페이지는 세로 방향의 letter-size, 1 페이지는 횡방향의 letter-size여도 괜찮습니다.
</p>
<a name="wp418038"> </a> <p class="pBody">
최초로 작성했을 때의 <code class="cCode">Book</code> 는, 빈 상태(empty) 상태가 되어 있습니다. <code class="cCode"><code class="cCode">Book</code> 에 페이지를 추가하려면 ,<code class="cCode">append</code> 메소드를 사용합니다. 이 메소드는, 페이지의 사이즈, 인쇄 가능 영역, 방향을 정의하는 <code class="cCode">PageFormat</code> 객체와<code class="cCode">Printable</code> 인터페이스를 구현하는 페이지페인타를 받습니다.
</p>
<a name="wp418039"> </a> <p class="pBody">
<code class="cCode">Book</code> 의 복수의 페이지로, 같은 페이지 서식과 페이지페인타를 공유할 수 있습니다. <code class="cCode"><code class="cCode">append</code> 메소드의 3 번째의 파라미터로 페이지수를 지정하면(자),<KBD>append</code> 는 overload 되어, 같은 속성의 일련의 페이지를 추가할 수 있게 됩니다.
</p>
<a name="wp420434"> </a> <p class="pBody">
<code class="cCode">Book</code> 의 총페이지수를 모르는 경우는,<code class="cCode">append</code> 메소드에 <code class="cCode">UNKNOWN_NUMBER_OF_PAGES</code> 를 건네줄 수가 있습니다. 이와 같이 하면(자), 인쇄 시스템은,<code class="cCode">NO_SUCH_PAGE</code> 가 돌아갈 때까지, 페이지의 인덱스를 늘리면서 페이지페인타를 호출합니다.
</p>
<a name="wp418041"> </a> <p class="pBody">
<code class="cCode">setPage</code> 메소드를 사용하면(자), 페이지의 페이지 서식 또는 페이지페인타를 변경할 수 있습니다. 변경하는 페이지의 식별에는,<code class="cCode">Book</code> 에서의 그 페이지의 위치를 나타내는 페이지 인덱스를 사용합니다.
</p>
<a name="wp418042"> </a> <p class="pBody">
인쇄 작업을 준비하려면 ,<code class="cCode">setPageable</code> 를 호출해 <code class="cCode">Book</code> 를 건네줍니다. <code class="cCode"><code class="cCode">setPageable</code> 와 <code class="cCode">setPrintable</code> 는, 함께는 사용할 수 없습니다.  즉,<code class="cCode">PrinterJob</code> 를 준비할 때는, 어느 쪽인지 한편만을 호출하도록(듯이) 합니다.
</p>
<a name="wp421072"> </a> <h3 class="pHeading2">
7.4. 1	Pageable 작업의 사용 방법
</h3>
<a name="wp418043"> </a> <p class="pBody">
다음의 예에서는,<code class="cCode">Book</code> 를 사용해, 최초의 간단한 인쇄예와 같은 것을 생성하고 있습니다. 이 예는 매우 단순한 것이므로,<code class="cCode">Printable</code> 작업 대신에 <code class="cCode">Pageable</code> 작업을 사용하는 것에 그만큼 이점은 없습니다만,<code class="cCode">Book</code> 의 기본적인 사용법의 이해에는 도움이 됩니다. 이 경우도,<code class="cCode">Printable</code> 인터페이스를 구현해, 페이지페인타의 <code class="cCode">print</code> 메소드로 페이지를 렌더링 할 필요가 있는 것에 주의해 주세요.  
</p>
<div class="pPreformatted"><pre class="pPreformatted">
import java.awt. *; <a name="wp418044"> </a> 
import java.awt.print. *;<a name="wp419365"> </a> 
<a name="wp418045"> </a> 
public class SimplePrintBook implements Printable <a name="wp419461"> </a> 
{   <a name="wp419368"> </a> 
  private static Font fnt = new Font(&quot;Helvetica&quot;, Font.PLAIN, 24);<a name="wp419369"> </a> 
  public static void main(String[] args) <a name="wp418046"> </a> 
  {     <a name="wp419371"> </a> 
    // Get a PrinterJob     <a name="wp419372"> </a> 
    PrinterJob job = PrinterJob.getPrinterJob();     <a name="wp419375"> </a> 
    // Set up a book     <a name="wp419376"> </a> 
    Book bk = new Book();     <a name="wp419377"> </a> 
    bk.append(new SimplePrintBook(), job.defaultPage(), 5);     <a name="wp419378"> </a> 
    // Pass the book to the PrinterJob     <a name="wp419379"> </a> 
    job.setPageable(bk);     <a name="wp419380"> </a> 
    // Put up the dialog box     <a name="wp419381"> </a> 
    if (job.printDialog()) <a name="wp419382"> </a> 
    {<a name="wp419429"> </a> 
      // Print the job if the user didn&#39;t cancel printing <a name="wp419383"> </a> 
      try { job.print(); } 	    <a name="wp419384"> </a> 
      catch (Exception e) { /* handle exception */ }     <a name="wp419385"> </a> 
    }     <a name="wp419458"> </a> 
    System.exit(0);   <a name="wp419459"> </a> 
  }<a name="wp419460"> </a> 
<a name="wp418047"> </a> 
  public int print(Graphics g, PageFormat pf, int pageIndex)<a name="wp419393"> </a> 
  throws PrinterException <a name="wp419395"> </a> 
  {     <a name="wp419394"> </a> 
    g.setFont(fnt);     <a name="wp419403"> </a> 
    g.setColor(Color.green);     <a name="wp419396"> </a> 
    g.drawString(&quot;Page &quot; + (pageIndex+1), 100, 100);     <a name="wp419397"> </a> 
    return Printable.PAGE_EXISTS;   <a name="wp419398"> </a> 
  }<a name="wp419399"> </a> 
}<a name="wp419400"> </a> 
</pre></div>
<a name="wp418048"> </a> <h3 class="pHeading2">
7.4. 2	복수의 페이지페인타의 사용 방법
</h3>
<a name="wp421071"> </a> <p class="pBody">
다음의 예에서는, 표지와 본문에 대해서, 2 개(살)이 다른 페이지페인타가 사용되고 있습니다. 표지는 옆 두어 모드로 인쇄해, 본문은 세로 두어 모드로 인쇄하고 있습니다.
</p>
<div class="pPreformatted"><pre class="pPreformatted">
import java.awt. *; <a name="wp418049"> </a> 
import java.awt.print. *;<a name="wp419544"> </a> 
<a name="wp418050"> </a> 
public class PrintBook <a name="wp419545"> </a> 
{<a name="wp419546"> </a> 
  public static void main(String[] args) <a name="wp418051"> </a> 
  {     <a name="wp419551"> </a> 
    // Get a PrinterJob     <a name="wp419554"> </a> 
    PrinterJob job = PrinterJob.getPrinterJob();     <a name="wp419561"> </a> 
    // Create a landscape page format    <a name="wp419566"> </a> 
    PageFormat pfl = job.defaultPage();  <a name="wp419571"> </a> 
    pfl.setOrientation(PageFormat.LANDSCAPE);     <a name="wp419576"> </a> 
    // Set up a book     <a name="wp419581"> </a> 
    Book bk = new Book();     <a name="wp419586"> </a> 
    bk.append(new PaintCover(), pfl);     <a name="wp419591"> </a> 
    bk.append(new PaintContent(), job.defaultPage(), 2);     <a name="wp419596"> </a> 
    // Pass the book to the PrinterJob     <a name="wp419601"> </a> 
    job.setPageable(bk);     <a name="wp419606"> </a> 
    // Put up the dialog box     <a name="wp419611"> </a> 
    if (job.printDialog()) <a name="wp419626"> </a> 
    { <a name="wp419627"> </a> 
      // Print the job if the user didn&#39;t cancel printing<a name="wp419628"> </a> 
      try { job.print(); } <a name="wp419635"> </a> 
      catch (Exception e) { /* handle exception */ }     <a name="wp419657"> </a> 
    }     <a name="wp419658"> </a> 
  System.exit(0);   <a name="wp419659"> </a> 
  } <a name="wp419664"> </a> 
}<a name="wp419665"> </a> 
<a name="wp419695"> </a> 
class PaintCover implements Printable <a name="wp418052"> </a> 
{   <a name="wp419696"> </a> 
  Font fnt = new Font(&quot;Helvetica-Bold&quot;, Font.PLAIN, 72);<a name="wp419697"> </a> 
 <a name="wp418053"> </a> 
  public int print(Graphics g, PageFormat pf, int pageIndex)<a name="wp419703"> </a> 
  throws PrinterException <a name="wp419700"> </a> 
  {     <a name="wp419706"> </a> 
    g.setFont(fnt);     <a name="wp419709"> </a> 
    g.setColor(Color.black);     <a name="wp419714"> </a> 
	 int yc = (int) (pf.getImageableY() +               pf.getImageableHeight()/2);<a name="wp420468"> </a> 
    g.drawString(&quot;Widgets, Inc. &quot;, 72, yc+36);     <a name="wp419719"> </a> 
    return Printable.PAGE_EXISTS;   <a name="wp419724"> </a> 
  } <a name="wp419729"> </a> 
}<a name="wp419732"> </a> 
class PaintContent implements Printable <a name="wp418054"> </a> 
{   <a name="wp419733"> </a> 
  public int print(Graphics g, PageFormat pf, int pageIndex)<a name="wp419734"> </a> 
  throws PrinterException <a name="wp419737"> </a> 
  {    <a name="wp419740"> </a> 
    Graphics2D g2 = (Graphics2D) g;     <a name="wp419741"> </a> 
    int useRed = 0;     <a name="wp419744"> </a> 
   int xo = (int) pf.getImageableX();<a name="wp419750"> </a> 
	int yo = (int) pf.getImageableY(); <a name="wp420474"> </a> 
    // Fill page with circles or squares, alternating red &amp; green<a name="wp420479"> </a> 
	for (int x = 0; x+28 &lt; pf.getImageableWidth(); x += 36)<a name="wp420473"> </a> 
    for (int y = 0; y+28 &lt; pf.getImageableHeight(); y += 36)<a name="wp419758"> </a> 
    { <a name="wp419759"> </a> 
      if (useRed == 0) g.setColor(Color.red);<a name="wp419770"> </a> 
      else g.setColor(Color.green);<a name="wp419775"> </a> 
      useRed = 1 - useRed;<a name="wp419780"> </a> 
      if (pageIndex % 2 == 0) g.drawRect(xo+x+4, yo+y+4, 28, 28);<a name="wp419785"> </a> 
      else g.drawOval(xo+x+4, yo+y+4, 28, 28);<a name="wp419814"> </a> 
    }     <a name="wp419363"> </a> 
    return   Printable.PAGE_EXISTS;   <a name="wp419362"> </a> 
  } <a name="wp419361"> </a> 
}<a name="wp419360"> </a> 
</pre></div>
<a name="wp418055"> </a> <p class="pBody">

</p>

    <p>&#160;</p>
    <hr class="pHr" />

    <table summary="layout" width="100%">
      <tr>
        <td align="left">
<a accesskey="c" href="j2d-bookTOC.html">목차</a>  | <a accesskey="p" href="j2d-color.html">전의 항목</a>  | 다음의 항목
        </td>
        <td class="go-right">
<span class="copyright">Java<font size="-2"><sup>TM</sup></font> 2D API 개발자 안내<br /> Java<font size="-2"><sup>TM</sup></font> 2 SDK, Standard Edition, 1.4 Version</span>
        </td>
      </tr>
    </table>

    <p>&#160;</p>
<p class="copyright"><a         href="copyright.html">Copyright</a>  &#169; 2003 Sun Microsystems, Inc.  All rights reserved. </p>
  </body>
</html>
